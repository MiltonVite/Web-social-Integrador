<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crear Cuenta - impulsa+UPT</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: linear-gradient(135deg, #f9fafb 0%, #e5e7eb 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .register-container {
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        overflow: hidden;
        max-width: 900px;
        width: 100%;
        display: flex;
        min-height: 600px;
      }

      .register-left {
        flex: 1;
        background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
        padding: 40px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: white;
        position: relative;
        overflow: hidden;
      }

      .register-left::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        animation: float 20s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(180deg);
        }
      }

      .logo-container {
        position: relative;
        z-index: 2;
        margin-bottom: 30px;
      }

      .logo {
        max-width: 200px;
        height: auto;
        border-radius: 20px;
      }

      .welcome-text {
        position: relative;
        z-index: 2;
      }

      .welcome-title {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 16px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .welcome-subtitle {
        font-size: 16px;
        line-height: 1.6;
        opacity: 0.9;
      }

      .register-right {
        flex: 1;
        padding: 40px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .register-header {
        text-align: center;
        margin-bottom: 32px;
      }

      .register-title {
        font-size: 24px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 8px;
      }

      .register-subtitle {
        color: #6b7280;
        font-size: 14px;
      }

      .user-type-selector {
        display: flex;
        gap: 12px;
        margin-bottom: 24px;
      }

      .user-type-option {
        flex: 1;
        position: relative;
      }

      .user-type-input {
        position: absolute;
        opacity: 0;
        pointer-events: none;
      }

      .user-type-label {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px 16px;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: #f9fafb;
      }

      .user-type-input:checked + .user-type-label {
        border-color: #dc2626;
        background: #fef2f2;
        color: #dc2626;
      }

      .user-type-icon {
        width: 32px;
        height: 32px;
        margin-bottom: 8px;
        fill: currentColor;
      }

      .user-type-text {
        font-weight: 500;
        font-size: 14px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-row {
        display: flex;
        gap: 12px;
      }

      .form-row .form-group {
        flex: 1;
        margin-bottom: 0;
      }

      .form-label {
        display: block;
        margin-bottom: 6px;
        font-weight: 500;
        color: #374151;
        font-size: 14px;
      }

      .form-input,
      .form-select {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.3s ease;
        background: white;
      }

      .form-input:focus,
      .form-select:focus {
        outline: none;
        border-color: #dc2626;
        box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
      }

      /* NUEVO: Estilos para campos de contraseña con icono */
      .password-container {
        position: relative;
      }

      .password-container .form-input {
        padding-right: 45px; /* Espacio para el icono */
      }

      .password-toggle {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        padding: 4px;
        color: #6b7280;
        transition: color 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .password-toggle:hover {
        color: #374151;
      }

      .password-toggle:focus {
        outline: none;
        color: #dc2626;
      }

      .eye-icon {
        width: 20px;
        height: 20px;
        fill: currentColor;
      }

      .conditional-fields {
        display: none;
        animation: fadeIn 0.3s ease-in-out;
      }

      .conditional-fields.show {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .terms-checkbox {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 24px;
      }

      .checkbox-input {
        margin-top: 2px;
      }

      .terms-text {
        font-size: 14px;
        color: #6b7280;
        line-height: 1.5;
      }

      .terms-link {
        color: #dc2626;
        text-decoration: none;
      }

      .terms-link:hover {
        text-decoration: underline;
      }

      .register-button {
        width: 100%;
        background: #dc2626;
        color: white;
        border: none;
        padding: 14px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-bottom: 20px;
      }

      .register-button:hover {
        background: #b91c1c;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
      }

      .register-button:disabled {
        background: #9ca3af;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .login-link {
        text-align: center;
        color: #6b7280;
        font-size: 14px;
      }

      .login-link a {
        color: #dc2626;
        text-decoration: none;
        font-weight: 500;
      }

      .login-link a:hover {
        text-decoration: underline;
      }

      .error-message {
        color: #dc2626;
        font-size: 12px;
        margin-top: 4px;
        display: none;
      }

      .form-group.error .form-input,
      .form-group.error .form-select {
        border-color: #dc2626;
      }

      .form-group.error .error-message {
        display: block;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .register-container {
          flex-direction: column;
          max-width: 400px;
          margin: 10px;
        }

        .register-left {
          padding: 30px 20px;
          min-height: 200px;
        }

        .register-right {
          padding: 30px 20px;
        }

        .welcome-title {
          font-size: 24px;
        }

        .logo {
          max-width: 150px;
        }

        .form-row {
          flex-direction: column;
          gap: 0;
        }

        .form-row .form-group {
          margin-bottom: 20px;
        }

        .user-type-selector {
          flex-direction: column;
        }
      }

      /* Loading Animation */
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: white;
        animation: spin 1s ease-in-out infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="register-container">
      <!-- Left Panel -->
      <div class="register-left">
        <div class="logo-container">
          <img src="/img/logo-impulsa+UTP.png" alt="impulsa+UPT" class="logo" />
        </div>
        <div class="welcome-text">
          <h1 class="welcome-title">¡Únete a impulsa+UTP!</h1>
          <p class="welcome-subtitle">
            Conecta con estudiantes, docentes y egresados de la Universidad
            Tecnológica del Perú. Comparte conocimientos, participa en eventos y
            construye tu red profesional.
          </p>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="register-right">
        <div class="register-header">
          <h2 class="register-title">Crear cuenta</h2>
          <p class="register-subtitle">Completa tus datos para comenzar</p>
        </div>

        <form id="registerForm" novalidate>
          <!-- User Type Selection -->
          <div class="user-type-selector">
            <div class="user-type-option">
              <input
                type="radio"
                id="student"
                name="userType"
                value="student"
                class="user-type-input"
                required
              />
              <label for="student" class="user-type-label">
                <svg class="user-type-icon" viewBox="0 0 24 24">
                  <path
                    d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"
                  />
                </svg>
                <span class="user-type-text">Alumno</span>
              </label>
            </div>
            <div class="user-type-option">
              <input
                type="radio"
                id="teacher"
                name="userType"
                value="teacher"
                class="user-type-input"
                required
              />
              <label for="teacher" class="user-type-label">
                <svg class="user-type-icon" viewBox="0 0 24 24">
                  <path
                    d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L12 2L3 7V9C3 10.1 3.9 11 5 11V16.5C5 17.3 5.7 18 6.5 18S8 17.3 8 16.5V11H16V16.5C16 17.3 16.7 18 17.5 18S19 17.3 19 16.5V11C20.1 11 21 10.1 21 9ZM12 8C13.1 8 14 8.9 14 10S13.1 12 12 12 10 11.1 10 10 10.9 8 12 8Z"
                  />
                </svg>
                <span class="user-type-text">Docente</span>
              </label>
            </div>
          </div>

          <!-- Basic Information -->
          <div class="form-row">
            <div class="form-group">
              <label for="firstName" class="form-label">Nombre</label>
              <input
                type="text"
                id="firstName"
                name="firstName"
                class="form-input"
                required
              />
              <div class="error-message">El nombre es requerido</div>
            </div>
            <div class="form-group">
              <label for="lastName" class="form-label">Apellidos</label>
              <input
                type="text"
                id="lastName"
                name="lastName"
                class="form-input"
                required
              />
              <div class="error-message">Los apellidos son requeridos</div>
            </div>
          </div>

          <div class="form-group">
            <label for="email" class="form-label">Correo electrónico</label>
            <input
              type="email"
              id="email"
              name="email"
              class="form-input"
              required
            />
            <div class="error-message">
              Ingresa un correo electrónico válido
            </div>
          </div>

          <!-- MODIFICADO: Campo de contraseña con icono de ojo -->
          <div class="form-group">
            <label for="password" class="form-label">Contraseña</label>
            <div class="password-container">
              <input
                type="password"
                id="password"
                name="password"
                class="form-input"
                required
              />
              <button
                type="button"
                class="password-toggle"
                onclick="togglePassword('password')"
              >
                <svg class="eye-icon" id="eyeIcon-password" viewBox="0 0 24 24">
                  <path
                    d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                  />
                </svg>
              </button>
            </div>
            <div class="error-message">
              La contraseña debe tener al menos 8 caracteres
            </div>
          </div>

          <!-- MODIFICADO: Campo de confirmar contraseña con icono de ojo -->
          <div class="form-group">
            <label for="confirmPassword" class="form-label"
              >Confirmar contraseña</label
            >
            <div class="password-container">
              <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                class="form-input"
                required
              />
              <button
                type="button"
                class="password-toggle"
                onclick="togglePassword('confirmPassword')"
              >
                <svg
                  class="eye-icon"
                  id="eyeIcon-confirmPassword"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                  />
                </svg>
              </button>
            </div>
            <div class="error-message">Las contraseñas no coinciden</div>
          </div>

          <!-- Student Fields -->
          <div id="studentFields" class="conditional-fields">
            <div class="form-group">
              <label for="career" class="form-label">Carrera</label>
              <select id="career" name="career" class="form-select">
                <option value="">Selecciona tu carrera</option>
                <option value="sistemas">
                  Ingeniería de Sistemas e Informática
                </option>
                <option value="sistemas">Arquitectura</option>
                <option value="sistemas">Psicología</option>
                <option value="sistemas">Contabilidad</option>
                <option value="industrial">Ingeniería Industrial</option>
                <option value="mecatronica">Ingeniería Mecatrónica</option>
                <option value="gestion">Ingeniería Civil</option>
                <option value="energia">Administración de Empresas</option>
                <option value="biotecnologia">
                  Administración y Marketing
                </option>
              </select>
              <div class="error-message">Selecciona tu carrera</div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="semester" class="form-label">Semestre</label>
                <select id="semester" name="semester" class="form-select">
                  <option value="">Semestre</option>
                  <option value="7">7mo Semestre</option>
                  <option value="8">8vo Semestre</option>
                  <option value="9">9no Semestre</option>
                  <option value="9">10mo Semestre</option>
                </select>
                <div class="error-message">Selecciona tu semestre</div>
              </div>
              <div class="form-group">
                <label for="studentId" class="form-label"
                  >Codigo Estudiante</label
                >
                <input
                  type="text"
                  id="studentId"
                  name="studentId"
                  class="form-input"
                  placeholder="Ej: U2351054"
                />
                <div class="error-message">Ingresa tu codigo de Estudiante</div>
              </div>
            </div>
          </div>

          <!-- Teacher Fields -->
          <div id="teacherFields" class="conditional-fields">
            <div class="form-group">
              <label for="department" class="form-label">Especialidad</label>
              <select id="department" name="department" class="form-select">
                <option value="">Selecciona tu departamento</option>
                <option value="sistemas">Sistemas Computacionales</option>
                <option value="industrial">Ingeniería Industrial</option>
                <option value="mecatronica">Mecatrónica</option>
                <option value="gestion">Gestión Empresarial</option>
                <option value="energia">Energías Renovables</option>
                <option value="biotecnologia">Biotecnología</option>
                <option value="ciencias">Ciencias Básicas</option>
                <option value="humanidades">Humanidades</option>
              </select>
              <div class="error-message">Selecciona tu departamento</div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="employeeId" class="form-label"
                  >Codigo de docente</label
                >
                <input
                  type="text"
                  id="employeeId"
                  name="employeeId"
                  class="form-input"
                  placeholder="Ej: C172985"
                />
                <div class="error-message">Ingresa tu codigo de docente</div>
              </div>
            </div>
          </div>

          <!-- Terms and Conditions -->
          <div class="terms-checkbox">
            <input
              type="checkbox"
              id="terms"
              name="terms"
              class="checkbox-input"
              required
            />
            <label for="terms" class="terms-text">
              Acepto los
              <a href="#" class="terms-link">términos y condiciones</a> y la
              <a href="#" class="terms-link">política de privacidad</a> de
              impulsa+UPT
            </label>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="register-button" id="submitBtn">
            Crear cuenta
          </button>

          <!-- Login Link -->
          <div class="login-link">
            ¿Ya tienes cuenta? <a href="login.html">Inicia sesión</a>
          </div>
        </form>
      </div>
    </div>

    <script>
      // NUEVA FUNCIÓN: Toggle para mostrar/ocultar contraseña
      function togglePassword(fieldId) {
        const passwordField = document.getElementById(fieldId);
        const eyeIcon = document.getElementById(`eyeIcon-${fieldId}`);

        if (passwordField.type === "password") {
          passwordField.type = "text";
          // Cambiar a icono de ojo cerrado
          eyeIcon.innerHTML =
            '<path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>';
        } else {
          passwordField.type = "password";
          // Cambiar a icono de ojo abierto
          eyeIcon.innerHTML =
            '<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>';
        }
      }

      // Form elements
      const form = document.getElementById("registerForm");
      const userTypeInputs = document.querySelectorAll(
        'input[name="userType"]'
      );
      const studentFields = document.getElementById("studentFields");
      const teacherFields = document.getElementById("teacherFields");
      const submitBtn = document.getElementById("submitBtn");

      // Show/hide conditional fields based on user type
      userTypeInputs.forEach((input) => {
        input.addEventListener("change", function () {
          if (this.value === "student") {
            studentFields.classList.add("show");
            teacherFields.classList.remove("show");
            // Make student fields required
            document.getElementById("career").required = true;
            document.getElementById("semester").required = true;
            document.getElementById("studentId").required = true;
            // Make teacher fields not required
            document.getElementById("department").required = false;
            document.getElementById("employeeId").required = false;
            document.getElementById("position").required = false;
          } else if (this.value === "teacher") {
            teacherFields.classList.add("show");
            studentFields.classList.remove("show");
            // Make teacher fields required
            document.getElementById("department").required = true;
            document.getElementById("employeeId").required = true;
            document.getElementById("position").required = true;
            // Make student fields not required
            document.getElementById("career").required = false;
            document.getElementById("semester").required = false;
            document.getElementById("studentId").required = false;
          }
        });
      });

      // Form validation
      function validateField(field) {
        const value = field.value.trim();
        const fieldGroup = field.closest(".form-group");

        // Remove previous error state
        fieldGroup.classList.remove("error");

        // Check if field is required and empty
        if (field.required && !value) {
          fieldGroup.classList.add("error");
          return false;
        }

        // Email validation
        if (field.type === "email" && value) {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(value)) {
            fieldGroup.classList.add("error");
            return false;
          }
        }

        // Password validation
        if (field.name === "password" && value) {
          if (value.length < 8) {
            fieldGroup.classList.add("error");
            return false;
          }
        }

        // Confirm password validation
        if (field.name === "confirmPassword" && value) {
          const password = document.getElementById("password").value;
          if (value !== password) {
            fieldGroup.classList.add("error");
            return false;
          }
        }

        return true;
      }

      // Real-time validation
      const inputs = form.querySelectorAll("input, select");
      inputs.forEach((input) => {
        input.addEventListener("blur", () => validateField(input));
        input.addEventListener("input", () => {
          if (input.closest(".form-group").classList.contains("error")) {
            validateField(input);
          }
        });
      });

      // Form submission
      form.addEventListener("submit", function (e) {
        e.preventDefault();

        let isValid = true;

        // Validate all fields
        inputs.forEach((input) => {
          if (!validateField(input)) {
            isValid = false;
          }
        });

        // Check if user type is selected
        const userType = document.querySelector(
          'input[name="userType"]:checked'
        );
        if (!userType) {
          alert("Por favor selecciona si eres alumno o docente");
          isValid = false;
        }

        // Check terms acceptance
        const terms = document.getElementById("terms");
        if (!terms.checked) {
          alert("Debes aceptar los términos y condiciones");
          isValid = false;
        }

        if (isValid) {
          // Show loading state
          submitBtn.innerHTML =
            '<span class="loading"></span> Creando cuenta...';
          submitBtn.disabled = true;

          // Simulate API call
          setTimeout(() => {
            alert(
              "¡Cuenta creada exitosamente! Revisa tu correo para verificar tu cuenta."
            );
            // In a real app, redirect to login or dashboard
            window.location.href = "login.html";
          }, 2000);
        }
      });

      // Auto-format student ID and employee ID
      document
        .getElementById("studentId")
        .addEventListener("input", function (e) {
          // Remove non-numeric characters
          this.value = this.value.replace(/\D/g, "");
        });

      document
        .getElementById("employeeId")
        .addEventListener("input", function (e) {
          // Convert to uppercase
          this.value = this.value.toUpperCase();
        });
    </script>
  </body>
</html>
